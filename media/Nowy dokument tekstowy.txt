clc
clear all
close all 
Image2 = imread('20191121_071958.jpg');
showZad1(Image2, 2, 0.44)


% Funkcja do zadania 1.
function showZad1(Image, figureNum, levelBW)
ImageD = rgb2gray(Image);
ImageD = double(ImageD)/255;
binImage = ImageD;
binImage(find(binImage <= levelBW)) = 0;
binImage(find(binImage > levelBW)) = 1;
[bwlabelImage, n] = bwlabel(binImage);

label2rgbImage = label2rgb(bwlabelImage);
bwOTSU = ImageD;
level = graythresh(ImageD);
bwOTSU(find(bwOTSU <= level)) = 0;
bwOTSU(find(bwOTSU > level)) = 1;
[bwlabelImage2, nOTSU] = bwlabel(bwOTSU);
label2rgbImage2 = label2rgb(bwlabelImage2);
string = ['Obraz ', int2str(figureNum)];
figure(figureNum)
subplot(2, 3, 1)
imshow(Image)
title(string)
subplot(2, 3, 4)
imhist(ImageD)
title('Hist Obrazu')
stringBW = ['Warto±¢ progu T= ', num2str(levelBW)];
subplot(2, 3, 2)
imshow(binImage)
title(stringBW)
stringlabelBW = ['Liczba obszarów w Rk= ', int2str(n)];
subplot(2, 3, 5)

imshow(label2rgbImage)
title(stringlabelBW)
stringOTSU = ['Warto±¢ progu To= ', num2str(level)];
subplot(2, 3, 3)
imshow(bwOTSU)
title(stringOTSU)
stringlabelOTSU = ['Liczba obszarów w Sk= ', int2str(nOTSU)];
subplot(2, 3, 6)
imshow(label2rgbImage2)
title(stringlabelOTSU)
end